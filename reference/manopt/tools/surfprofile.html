<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of surfprofile</title>
  <meta name="keywords" content="surfprofile">
  <meta name="description" content="Plot the cost function as a surface over a 2-dimensional subspace.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="#">manopt</a> &gt; <a href="index.html">tools</a> &gt; surfprofile.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for manopt\tools&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>surfprofile
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>Plot the cost function as a surface over a 2-dimensional subspace.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function costs = surfprofile(problem, x, d1, d2, t1, t2) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Plot the cost function as a surface over a 2-dimensional subspace.

 function surfprofile(problem, x, d1, d2, t1, t2)
 function costs = surfprofile(problem, x, d1, d2, t1, t2)

 Evaluates the cost function at points

   gamma(t1, t2) = exponential_x(t1*d1 + t2*d2)
 
 where the exponential map at x is specified by problem.M.exp (retr is
 used instead if needed). d1 and d2 are two tangent vectors to problem.M
 at the point x. The values assigned to t1 and t2 are as specified in the
 two input vectors t1 and t2.
 
 If the function is called with an output, the plot is not drawn and the
 values of the cost are returned in a matrix of size
 length(t1)*length(t2). To plot a surf, call surf(t1, t2, costs.') (notice
 the transpose).</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../manopt/core/StoreDB.html" class="code" title="">StoreDB</a>	</li><li><a href="../../manopt/core/canGetCost.html" class="code" title="function candoit = canGetCost(problem)">canGetCost</a>	Checks whether the cost function can be computed for a problem structure.</li><li><a href="../../manopt/core/getCost.html" class="code" title="function cost = getCost(problem, x, storedb, key)">getCost</a>	Computes the cost function at x.</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function costs = surfprofile(problem, x, d1, d2, t1, t2)</a>
0002 <span class="comment">% Plot the cost function as a surface over a 2-dimensional subspace.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% function surfprofile(problem, x, d1, d2, t1, t2)</span>
0005 <span class="comment">% function costs = surfprofile(problem, x, d1, d2, t1, t2)</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% Evaluates the cost function at points</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%   gamma(t1, t2) = exponential_x(t1*d1 + t2*d2)</span>
0010 <span class="comment">%</span>
0011 <span class="comment">% where the exponential map at x is specified by problem.M.exp (retr is</span>
0012 <span class="comment">% used instead if needed). d1 and d2 are two tangent vectors to problem.M</span>
0013 <span class="comment">% at the point x. The values assigned to t1 and t2 are as specified in the</span>
0014 <span class="comment">% two input vectors t1 and t2.</span>
0015 <span class="comment">%</span>
0016 <span class="comment">% If the function is called with an output, the plot is not drawn and the</span>
0017 <span class="comment">% values of the cost are returned in a matrix of size</span>
0018 <span class="comment">% length(t1)*length(t2). To plot a surf, call surf(t1, t2, costs.') (notice</span>
0019 <span class="comment">% the transpose).</span>
0020 
0021 <span class="comment">% This file is part of Manopt: www.manopt.org.</span>
0022 <span class="comment">% Original author: Nicolas Boumal, Sep. 1, 2014.</span>
0023 <span class="comment">% Contributors:</span>
0024 <span class="comment">% Change log:</span>
0025 <span class="comment">%</span>
0026 <span class="comment">%   April 3, 2015 (NB):</span>
0027 <span class="comment">%       Works with the new StoreDB class system.</span>
0028 
0029     <span class="comment">% Verify that the problem description is sufficient.</span>
0030     <span class="keyword">if</span> ~<a href="../../manopt/core/canGetCost.html" class="code" title="function candoit = canGetCost(problem)">canGetCost</a>(problem)
0031         error(<span class="string">'It seems no cost was provided.'</span>);  
0032     <span class="keyword">end</span>
0033     
0034     <span class="keyword">if</span> isfield(problem.M, <span class="string">'exp'</span>)
0035         expo = problem.M.exp;
0036         str = <span class="string">'Exp'</span>;
0037     <span class="keyword">else</span>
0038         expo = problem.M.retr;
0039         str = <span class="string">'Retr'</span>;
0040     <span class="keyword">end</span>
0041     
0042     storedb = <a href="../../manopt/core/StoreDB.html" class="code" title="">StoreDB</a>();
0043     linesearch_fun = @(ta, tb) <a href="../../manopt/core/getCost.html" class="code" title="function cost = getCost(problem, x, storedb, key)">getCost</a>(problem, <span class="keyword">...</span>
0044                          expo(x, problem.M.lincomb(x, ta, d1, tb, d2)), <span class="keyword">...</span>
0045                          storedb);
0046     
0047     costs = zeros(length(t1), length(t2));
0048     <span class="keyword">for</span> i = 1 : length(t1)
0049         <span class="keyword">for</span> j = 1 : length(t2)
0050             costs(i, j) = linesearch_fun(t1(i), t2(j));
0051         <span class="keyword">end</span>
0052     <span class="keyword">end</span>
0053     
0054     <span class="keyword">if</span> nargout == 0
0055         surf(t1, t2, costs.');
0056         xlabel(<span class="string">'t1'</span>);
0057         ylabel(<span class="string">'t2'</span>);
0058         zlabel([<span class="string">'f('</span> str <span class="string">'_x(t1*d1+t2*d2))'</span>]);
0059     <span class="keyword">end</span>
0060     
0061 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Mon 06-Jul-2015 21:55:36 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>