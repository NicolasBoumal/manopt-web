<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Manopt - Solvers</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./icon.png" rel="icon" type="image/png">
<script src="site_libs/cookie-consent/cookie-consent.js"></script>
<link href="site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-71FCE8T97E"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-71FCE8T97E', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  });
});
</script> 
  
<style>html{ scroll-behavior: smooth; }</style>
<script>
window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      macros: {
        reals: "\\mathbb{R}",
        inner: ["\\left\\langle #1, #2 \\right\\rangle", 2],
        smallinner: ["\\langle #1, #2 \\rangle", 2],
        innersmall: ["\\langle #1, #2 \\rangle", 2],
        innerbig: ["\\big\\langle #1, #2 \\big\\rangle", 2],
        sqfrobnorm: ["\\left\\|#1\\right\\|_{\\mathrm{F}}^2", 1],
        sqfrobnormsmall: ["\\|#1\\|_{\\mathrm{F}}^2", 1],
        sqfrobnormbig: ["\\big\\|#1\\big\\|_{\\mathrm{F}}^2", 1],
        calM: "\\mathcal{M}",
        calN: "\\mathcal{N}",
        calA: "\\mathcal{A}",
        T: "\\mathrm{T}",
        skeww: "\\mathrm{skew}",
        symm: "\\mathrm{sym}",
        Sym: "\\mathrm{Sym}",
        Proj: "\\mathrm{Proj}",
        grad: "\\mathrm{grad}",
        Hess: "\\mathrm{Hess}",
        Retr: "\\mathrm{R}",
        D: "\\mathrm{D}",
        calE: "\\mathcal{E}",
        Stnp: "\\mathrm{St}(n,p)",
        Rnp: "\\mathbb{R}^{n \\times p}",
        Rmp: "\\mathbb{R}^{m \\times p}",
        Rnr: "\\mathbb{R}^{n \\times r}",
        Rrn: "\\mathbb{R}^{r \\times n}",
        Rmr: "\\mathbb{R}^{m \\times r}",
        Rnn: "\\mathbb{R}^{n \\times n}",
        Rmn: "\\mathbb{R}^{m \\times n}",
        Rpp: "\\mathbb{R}^{p \\times p}",
        Rmnr: "\\mathbb{R}^{m \\times n}_r",
        Rmnlr: "\\mathbb{R}^{m \\times n}_{\\leq r}",
        Rn: "\\mathbb{R}^{n}",
        Rm: "\\mathbb{R}^{m}",
        Rp: "\\mathbb{R}^{p}",
        Rd: "\\mathbb{R}^{d}",
        Rk: "\\mathbb{R}^{k}",
        Sn: "\\mathbb{S}^{n}",
        Sm: "\\mathbb{S}^{m}",
        Sd: "\\mathbb{S}^{d-1}",
        trace: "\\mathrm{Tr}",
        Trace: "\\mathrm{Tr}",
        diag: "\\mathrm{diag}",
        sign: "\\mathrm{sign}",
        Od: "\\mathrm{O}(d)",
        On: "\\mathrm{O}(n)",
        Om: "\\mathrm{O}(m)",
        SOd: "\\mathrm{SO}(d)",
        SOn: "\\mathrm{SO}(n)",
        rank: "\\mathrm{rank}",
        frakX: "\\mathfrak{X}",
        frakF: "\\mathfrak{F}",
        One: "\\mathbf{1}",
        dist: "\\mathrm{dist}",
        calP: "\\mathcal{P}",
        calK: "\\mathcal{K}",
        Rdd: "\\mathbb{R}^{d \\times d}",
        calU: "\\mathcal{U}",
        calV: "\\mathcal{V}",
        calW: "\\mathcal{W}",
        Exp: "\\mathrm{Exp}",
        Log: "\\mathrm{Log}",
        inj: "\\mathrm{inj}",
        dom: "\\operatorname{dom}",
        bigger: "<",
        dt: "\\mathrm{d}t",
        transpose: "^\\top\\! ",
        sigmamax: "\\sigma_{\\mathrm{max}}",
        sigmamin: "\\sigma_{\\mathrm{min}}",
        lambdamax: "\\lambda_{\\mathrm{max}}",
        lambdamin: "\\lambda_{\\mathrm{min}}",
        TODO: ["\\textcolor{red}{[\\textrm{#1}]}", 1]
      }
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>

<script>
  window.addEventListener('load', function() {
    document.getElementById("cc-nb-title").innerHTML = "May we use cookies for anonymized analytics?";
    // to improve your browsing experience on our website, 
    document.getElementById("cc-nb-text").innerHTML = "We would like to use cookies to analyze our website traffic, and to understand where our visitors are coming from.";
  });
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Manopt - Solvers">
<meta property="og:description" content="Available optimization algorithms and how to use them">
<meta property="og:image" content="https://www.manopt.org/images/icon_salute.gif">
<meta property="og:site-name" content="Manopt">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Manopt</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorial" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Tutorial</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tutorial">    
        <li>
    <a class="dropdown-item" href="./gettingstarted.html" rel="" target="">
 <span class="dropdown-text">Getting started</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./firstexample.html" rel="" target="">
 <span class="dropdown-text">A first example</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./manifolds.html" rel="" target="">
 <span class="dropdown-text">Manifolds</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./costdescription.html" rel="" target="">
 <span class="dropdown-text">Cost functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./solvers.html" rel="" target="">
 <span class="dropdown-text">Solvers</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./tools.html" rel="" target="">
 <span class="dropdown-text">Helpful tools</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./core.html" rel="" target="">
 <span class="dropdown-text">Core tools</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./learning.html" rel="" target="">
 <span class="menu-text">Learning</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./downloads.html" rel="" target="">
 <span class="menu-text">Downloads</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./forum.html" rel="" target="">
 <span class="menu-text">Forum</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/NicolasBoumal/manopt" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:manopttoolbox@gmail.com" rel="" target=""><i class="bi bi-envelope-at" role="img" aria-label="E-mail">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./solvers.html">Solvers</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gettingstarted.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting started</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./firstexample.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A first example</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manifolds.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Manifolds</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./costdescription.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cost functions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./solvers.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Solvers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Helpful tools</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./core.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Core tools</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#general-description" id="toc-general-description" class="nav-link active" data-scroll-target="#general-description">General description <img src="images/icon_salute.gif" class="img-fluid"></a></li>
  <li><a href="#available-solvers" id="toc-available-solvers" class="nav-link" data-scroll-target="#available-solvers">Available solvers</a></li>
  <li><a href="#the-options-structure" id="toc-the-options-structure" class="nav-link" data-scroll-target="#the-options-structure">The options structure</a>
  <ul class="collapse">
  <li><a href="#generic-options" id="toc-generic-options" class="nav-link" data-scroll-target="#generic-options">Generic options</a></li>
  <li><a href="#options-for-stopping-criterion" id="toc-options-for-stopping-criterion" class="nav-link" data-scroll-target="#options-for-stopping-criterion">Options for stopping criterion</a></li>
  <li><a href="#statsfun-option-for-recording-info-at-each-iteration" id="toc-statsfun-option-for-recording-info-at-each-iteration" class="nav-link" data-scroll-target="#statsfun-option-for-recording-info-at-each-iteration">Statsfun option for recording info at each iteration</a></li>
  <li><a href="#option-to-specify-a-line-search" id="toc-option-to-specify-a-line-search" class="nav-link" data-scroll-target="#option-to-specify-a-line-search">Option to specify a line-search</a></li>
  </ul></li>
  <li><a href="#the-info-struct-array" id="toc-the-info-struct-array" class="nav-link" data-scroll-target="#the-info-struct-array">The info struct-array</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Solvers</h1>
<p class="subtitle lead">Available optimization algorithms and how to use them</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="general-description" class="level2">
<h2 class="anchored" data-anchor-id="general-description">General description <img src="images/icon_salute.gif" class="img-fluid"></h2>
<p>Solvers (that is, optimization algorithms) are functions in Manopt. Built-in solvers are located in <code>/manopt/solvers</code>. In principle, all solvers accept the following basic call format:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="va">x</span> <span class="op">=</span> <span class="va">mysolver</span>(<span class="va">problem</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The returned value <code>x</code> is a point on the manifold <code>problem.M</code>. Depending on the properties of your problem and on the guarantees of the solver, <code>x</code> is more or less close to a good minimizer of the cost function described in the <code>problem</code> structure.</p>
<p>Bear in mind that we are dealing with usually nonconvex, and possibly nonsmooth or derivative-free optimization, so that it is in general not guaranteed that <code>x</code> is a global minimizer of the cost. For smooth problems with gradient information though, most decent algorithms guarantee that <code>x</code> is (approximately) a critical point. Typically, we even expect an approximate local minimizer, but even that is usually not guaranteed in all cases: this is a fundamental limitation of continuous optimization.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Min or max?
</div>
</div>
<div class="callout-body-container callout-body">
<p>All provided solvers are <em>minimization</em> algorithms. If you want to <em>maximize</em> your objective function, multiply it by -1 (and accordingly for the derivatives of the objective function if needed), as we did in the <a href="./firstexample.html">first example</a>.</p>
</div>
</div>
<p>In principle, all solvers also admit a more complete call format:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>[<span class="va">x</span><span class="op">,</span> <span class="va">xcost</span><span class="op">,</span> <span class="va">info</span><span class="op">,</span> <span class="va">options</span>] <span class="op">=</span> <span class="va">mysolver</span>(<span class="va">problem</span><span class="op">,</span> <span class="va">x0</span><span class="op">,</span> <span class="va">options</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Inputs:</strong></p>
<ul>
<li>The <code>problem</code> structure specifies the manifold and describes the cost function.</li>
<li>Optionally, <code>x0</code> is an initial guess, or initial iterate, for the solver. It is typically a point on the manifold <code>problem.M</code>, but may be something else depending on the solver. It can be omitted by passing the empty matrix <code>[]</code> instead.</li>
<li>Optionally, the <code>options</code> structure is used to fine tune the behavior of the optimization algorithm. On top of hosting the algorithmic parameters, it manages the stopping criteria as well as what information needs to be displayed and / or logged during execution.</li>
</ul>
<p><strong>Outputs:</strong></p>
<ul>
<li><code>x</code> is the returned point on the manifold.</li>
<li><code>xcost</code> is the value of the cost function at <code>x</code>.</li>
<li>The <code>info</code> struct-array is described below, and contains information collected at each iteration of the solver’s progress.</li>
<li>The <code>options</code> structure is returned too, so you can see what default values the solver used on top of the options you (possibly) specified.</li>
</ul>
</section>
<section id="available-solvers" class="level2">
<h2 class="anchored" data-anchor-id="available-solvers">Available solvers</h2>
<p>The toolbox comes with a handful of solvers.</p>
<p>The most trust-worthy is the trust-regions algorithm. Originally, it is a modification of the code of <a href="https://www.math.fsu.edu/%7Ecbaker/GenRTR/" title="GenRTR, by Chris Baker, P.-A. Absil and Kyle Gallivan">GenRTR</a>.</p>
<p>The toolbox was designed to accommodate many more solvers though: we have since then added BFGS-style solvers, stochastic gradient descent and more. In particular, we look forward to proposing algorithms for nonsmooth cost functions (which notably arise when L1 penalties are at play). You can also propose your own solvers.</p>
<table class="table-striped table">
<caption>Table of minimization algorithms available in Manopt.</caption>
<thead>
<tr class="header">
<th>Name</th>
<th>Requires (benefits of)</th>
<th>Comment</th>
<th>Call</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/solvers/trustregions/trustregions.m">Trust-regions (RTR)</a></td>
<td>Cost, gradient (Hessian, approximate Hessian, preconditioner)</td>
<td>#1 choice for smooth optimization; uses finite differences (FD) of the gradient in the absence of Hessian.</td>
<td><code>trustregions</code></td>
</tr>
<tr class="even">
<td><a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/solvers/arc/arc.m">Adaptive regularization by cubics (ARC)</a></td>
<td>Cost, gradient (Hessian, approximate Hessian)</td>
<td>Alternative to RTR; uses FD of the gradient in the absence of Hessian.</td>
<td><code>arc</code></td>
</tr>
<tr class="odd">
<td><a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/solvers/steepestdescent/steepestdescent.m">Steepest descent</a></td>
<td>Cost, gradient</td>
<td>Gradient descent (GD) with line-search (default is backtracking-based).</td>
<td><code>steepestdescent</code></td>
</tr>
<tr class="even">
<td><a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/solvers/conjugategradient/conjugategradient.m">Conjugate gradient</a></td>
<td>Cost, gradient (preconditioner)</td>
<td>Often performs better than steepest descent.</td>
<td><code>conjugategradient</code></td>
</tr>
<tr class="odd">
<td><a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/solvers/barzilaiborwein/barzilaiborwein.m">Barzilai-Borwein</a></td>
<td>Cost, gradient</td>
<td>Gradient descent with BB step size heuristic.</td>
<td><code>barzilaiborwein</code></td>
</tr>
<tr class="even">
<td><a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/solvers/bfgs/rlbfgs.m">BFGS</a></td>
<td>Cost, gradient</td>
<td>Limited-memory version of BFGS.</td>
<td><code>rlbfgs</code></td>
</tr>
<tr class="odd">
<td><a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/solvers/stochasticgradient/stochasticgradient.m">SGD</a></td>
<td>Partial gradient (preconditioner) [Cost not needed]</td>
<td>Stochastic gradient algorithm for optimization of large sums.</td>
<td><code>stochasticgradient</code></td>
</tr>
<tr class="even">
<td><a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/solvers/pso/pso.m">Particle swarm (PSO)</a></td>
<td>Cost</td>
<td>Derivative-free optimizer (DFO) based on a population of points.</td>
<td><code>pso</code></td>
</tr>
<tr class="odd">
<td><a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/solvers/neldermead/neldermead.m">Nelder-Mead</a></td>
<td>Cost</td>
<td>DFO based on a simplex; requires <code>M.pairmean</code>; limited to (very) low-dimensional problems.</td>
<td><code>neldermead</code></td>
</tr>
</tbody>
</table>
</section>
<section id="the-options-structure" class="level2">
<h2 class="anchored" data-anchor-id="the-options-structure">The options structure</h2>
<p>In Manopt, <em>all</em> options are optional. Standard options are assigned a default value at the toolbox level in <a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/core/getGlobalDefaults.m"><code>/manopt/core/getGlobalDefaults.m</code></a> (it’s a core tool, best not to edit it). Solvers then overwrite and complement these options with solver-specific fields. These options are in turn overwritten by the user-specified options, if any.</p>
<p>The subsections below list commonly used options. See each solver’s documentation for specific information (e.g., type <code>help trustregions</code>).</p>
<section id="generic-options" class="level3">
<h3 class="anchored" data-anchor-id="generic-options">Generic options</h3>
<p>The following table lists options to control text output during solver execution, whether additional debugging checks are run, and a (deprecated) option to control memory usage from caching.</p>
<table class="table">
<caption>Table of generic options used by most solvers.</caption>
<thead>
<tr class="header">
<th>Field name (<code>options."..."</code>)</th>
<th>Value type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>verbosity</code></td>
<td>integer</td>
<td>Controls how much information a solver outputs during execution; 0: no output; 1 : output at init and at exit; 2: light output at each iteration; 3+: all you can read.</td>
</tr>
<tr class="even">
<td><code>debug</code></td>
<td>integer</td>
<td>If larger than 0, the solver may perform additional computations for debugging purposes.</td>
</tr>
<tr class="odd">
<td><code>storedepth</code></td>
<td>integer</td>
<td>Maximum number of <code>store</code> structures that may be kept in memory (see the <a href="./costdescription.html">cost description</a> page). As of Manopt 5.0, this is mostly irrelevant because the main solvers do a much better job of discarding stale information on the go.</td>
</tr>
</tbody>
</table>
</section>
<section id="options-for-stopping-criterion" class="level3">
<h3 class="anchored" data-anchor-id="options-for-stopping-criterion">Options for stopping criterion</h3>
<p>Solvers stop running when one of several stopping criteria triggers. The following table lists options for some standard criteria.</p>
<table class="table">
<caption>Table of generic stopping criterion options used by most solvers.</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th>Field name (<code>options."..."</code>)</th>
<th>Value type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>maxiter</code></td>
<td>integer</td>
<td>Limits the number of iterations of the solver.</td>
</tr>
<tr class="even">
<td><code>maxtime</code></td>
<td>double</td>
<td>Limits the execution time of the solver, in seconds.</td>
</tr>
<tr class="odd">
<td><code>tolcost</code></td>
<td>double</td>
<td>Stop as soon as the cost drops below this tolerance.</td>
</tr>
<tr class="even">
<td><code>tolgradnorm</code></td>
<td>double</td>
<td>Stop as soon as the norm of the gradient drops below this tolerance.</td>
</tr>
<tr class="odd">
<td><code>stopfun</code></td>
<td>fun. handle</td>
<td>Custom stopping criterion: see below.</td>
</tr>
</tbody>
</table>
<p>Some solvers offer additional stopping criteria.</p>
<p>Users can also define <strong>custom stopping criteria</strong> with <code>options.stopfun</code>. The general usage pattern is as follows:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">% define your problem structure, then:</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="va">options</span>.<span class="va">stopfun</span> <span class="op">=</span> <span class="op">@</span><span class="va">mystopfun</span><span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="va">x</span> <span class="op">=</span> <span class="va">mysolver</span>(<span class="va">problem</span><span class="op">,</span> []<span class="op">,</span> <span class="va">options</span>)<span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> [<span class="va">stopnow</span><span class="op">,</span> <span class="va">reason</span>] <span class="op">=</span> <span class="va">mystopfun</span>(<span class="va">problem</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">info</span><span class="op">,</span> <span class="va">last</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>   <span class="kw">if</span> <span class="va">xyz</span> <span class="co">% decide if should stop based on inputs</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">stopnow</span> <span class="op">=</span> <span class="va">true</span><span class="op">;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">reason</span> <span class="op">=</span> <span class="ss">'This optional message explains why we stopped.'</span><span class="op">;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">else</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">stopnow</span> <span class="op">=</span> <span class="va">false</span><span class="op">;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">reason</span> <span class="op">=</span> <span class="ss">''</span><span class="op">;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The function handle <code>options.stopfun</code> is called after each iteration completes. As input, it receives:</p>
<ul>
<li>the <code>problem</code> structure,</li>
<li>the current point <code>x</code>,</li>
<li>the whole <code>info</code> struct-array built so far, and</li>
<li>an index <code>last</code> such that <code>info(last)</code> is the structure pertaining to the current iteration (this is because <code>info</code> is pre-allocated, so that <code>info(end)</code> typically does <em>not</em> refer to the current iteration).</li>
</ul>
<p>The outputs are:</p>
<ul>
<li>a Boolean <code>stopnow</code>: the solver terminates if this is true;</li>
<li>optionally, a string <code>reason</code> which explains why the criterion triggered. This is displayed by the solver if <code>options.verbosity &gt; 0</code>.</li>
</ul>
<p>Consider the following example:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="va">options</span>.<span class="va">stopfun</span> <span class="op">=</span> <span class="op">@</span><span class="va">mystopfun</span><span class="op">;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">stopnow</span> <span class="op">=</span> <span class="va">mystopfun</span>(<span class="va">problem</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">info</span><span class="op">,</span> <span class="va">last</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">stopnow</span> <span class="op">=</span> (<span class="va">last</span> <span class="op">&gt;=</span> <span class="fl">3</span> <span class="op">&amp;&amp;</span> <span class="va">info</span>(<span class="va">last</span><span class="op">-</span><span class="fl">2</span>).<span class="va">cost</span> <span class="op">-</span> <span class="va">info</span>(<span class="va">last</span>).<span class="va">cost</span> <span class="op">&lt;</span> <span class="fl">1e-3</span>)<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This tells the solver to exit as soon as two successive iterations combined have decreased the cost by less than <span class="math inline">\(10^{-3}\)</span>.</p>
<p>See also the <a href="./tools.html">tools</a> page for a list of built-in ways to use <code>stopfun</code> to good effect. For example:</p>
<ul>
<li>Stop a solver on demand <a href="./tools.html#interactive-stopping-criteria">by closing a figure or by deleting a file</a>. These allow to gracefully interrupt a solver interactively without breaking program execution. The second one is especially useful when running code remotely without GUI.</li>
<li>Stop a solver <a href="./tools.html#counters-to-track-computations">using Manopt counters</a>. This makes it easy to stop after a certain budget of function calls, matrix-vector products etc. has been exceeded.</li>
</ul>
</section>
<section id="statsfun-option-for-recording-info-at-each-iteration" class="level3">
<h3 class="anchored" data-anchor-id="statsfun-option-for-recording-info-at-each-iteration">Statsfun option for recording info at each iteration</h3>
<p>The function handle <code>options.statsfun</code> is called after each iteration completes. It provides an opportunity to process information about each iteration. The main purpose is to store information, but this option can also be used to print, save, plot, etc.</p>
<p>Here is an example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">% define your problem structure, then:</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="va">options</span>.<span class="va">statsfun</span> <span class="op">=</span> <span class="op">@</span><span class="va">mystatsfun</span><span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>[<span class="va">x</span><span class="op">,</span> <span class="va">fx</span><span class="op">,</span> <span class="va">info</span>] <span class="op">=</span> <span class="va">mysolver</span>(<span class="va">problem</span><span class="op">,</span> []<span class="op">,</span> <span class="va">options</span>)<span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">stats</span> <span class="op">=</span> <span class="va">mystatsfun</span>(<span class="va">problem</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">stats</span><span class="op">,</span> <span class="va">store</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">stats</span>.<span class="va">current_point</span> <span class="op">=</span> <span class="va">x</span><span class="op">;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This logs all the points visited during the optimization process in the <code>info</code> struct-array returned by the solver. One could also write <code>x</code> to disk during this call, or update a plot (if that is useful).</p>
<p>As input, <code>statsfun</code> receives:</p>
<ul>
<li>the <code>problem</code> structure,</li>
<li>the current point <code>x</code>,</li>
<li>the <code>stats</code> structure for the current iteration as recorded in the <code>info</code> struct-array, and</li>
<li>(optionally) the <code>store</code> structure with the cache for <code>x</code> (and the common cache in <code>store.shared</code>).</li>
</ul>
<p>The output is the <code>stats</code> structure. This function gives you a chance to modify the <code>stats</code> structure, hence to add fields if you want to.</p>
<p>Bear in mind that structures in a struct-array must <em>all</em> have the same fields: if <code>statsfun</code> adds a certain field to a <code>stats</code> structure, it must do so for <em>all</em> iterations. (In some instances, it is even important that the fields be created in the same order.)</p>
<p>Time spent in <code>statsfun</code> is discounted from execution time recorded in <code>[info.time]</code>, as this is typically only used for prototyping, debugging, plotting etc.</p>
<p>If you include <code>store</code> as an input for the <code>statsfun</code>, this lets you access the data you <a href="./costdescription.html">cached</a>, both for that particular iterate. You also get access to the cache in <code>store.shared</code>, common to <em>all</em> points <code>x</code> visited by the solver so far. Note that <code>statsfun</code>can read but it cannot write to <code>store</code> (modifications are lost).</p>
<p>An alternative to creating a <code>statsfun</code> by hand is to use the <a href="https://github.com/NicolasBoumal/manopt/blob/master/manopt/tools/statsfunhelper.m"><code>statsfunhelper</code></a> tool. This is sometimes simpler (and allows to pass inline functions). The example above simplifies to:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="va">options</span>.<span class="va">statsfun</span> <span class="op">=</span> <span class="va">statsfunhelper</span>(<span class="ss">'current_point'</span><span class="op">,</span> <span class="op">@</span>(<span class="va">x</span>) <span class="va">x</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The helper can also be used to log more than one metric, by passing it a structure. In the example below, <code>x_reference</code> is a certain point on the manifold <code>problem.M</code>. The stats structures will include fields <code>current_point</code> and <code>dist_to_ref</code>. Notice how the function handles can take different inputs. See the help of that tool for more info.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="va">metrics</span>.<span class="va">current_point</span> <span class="op">=</span> <span class="op">@</span>(<span class="va">x</span>) <span class="va">x</span><span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="va">metrics</span>.<span class="va">dist_to_ref</span> <span class="op">=</span> <span class="op">@</span>(<span class="va">problem</span><span class="op">,</span> <span class="va">x</span>) <span class="va">problem</span>.<span class="va">M</span>.<span class="va">dist</span>(<span class="va">x</span><span class="op">,</span> <span class="va">x_reference</span>)<span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="va">options</span>.<span class="va">statsfun</span> <span class="op">=</span> <span class="va">statsfunhelper</span>(<span class="va">metrics</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>See also <a href="./tools.html#counters-to-track-computations">how to use Manopt counters</a> to keep track of things such as the number of calls to cost, gradient and Hessian, or other special operations such as matrix-vector products. These counters are registered at every iteration and available in the returned stats structure. They can also be used in a stopping criterion.</p>
</section>
<section id="option-to-specify-a-line-search" class="level3">
<h3 class="anchored" data-anchor-id="option-to-specify-a-line-search">Option to specify a line-search</h3>
<p>Some solvers, such as <code>steepestdescent</code> and <code>conjugategradient</code>, need to solve a line-search problem at each iteration. That is, they need to (approximately) solve the one-dimensional optimization problem:<br>
<span class="math display">\[
  \min_{t\geq 0} \phi(t) = f(\Retr_x(td)),
\]</span><br>
where <span class="math inline">\(x\)</span> is the current point on the manifold, <span class="math inline">\(d\)</span> is a tangent vector at <span class="math inline">\(x\)</span> (the search direction), <span class="math inline">\(\Retr\)</span> is the retraction on the manifold and <span class="math inline">\(f\)</span> is the cost function. Assuming <span class="math inline">\(d\)</span> is a descent direction, there exists <span class="math inline">\(t &gt; 0\)</span> such that <span class="math inline">\(\phi(t) &lt; \phi(0) = f(x)\)</span>. The purpose of a line-search algorithm is to find such a real number <span class="math inline">\(t\)</span>.</p>
<p>Manopt includes certain <a href="https://github.com/NicolasBoumal/manopt/tree/master/manopt/solvers/linesearch">generic purpose line-search algorithms</a>. To force the use of one of them or of your own, specify this in the options structure (not in the problem structure), for example as follows:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="va">options</span>.<span class="va">linesearch</span> <span class="op">=</span> <span class="op">@</span><span class="va">linesearch_adaptive</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Each line-search algorithm accepts its own options which can be added in this same <code>options</code> structure passed to the main solver. See each line-search’s help for details.</p>
<p>For certain problems, you may want to implement your own line-search, typically in order to exploit structure specific to the problem at hand. To this end, it is best to start from an existing line-search function and to adapt it. Alternatively (and perhaps more easily), you may specify a <code>linesearch</code> function in the <code>problem</code> structure (see the <a href="./costdescription.html">cost description</a> page) and use a line-search that uses it, to incorporate the additional information you supply there. Do not hesitate to ask for help on the forum if you have questions on this feature.</p>
</section>
</section>
<section id="the-info-struct-array" class="level2">
<h2 class="anchored" data-anchor-id="the-info-struct-array">The info struct-array</h2>
<p>The various solvers log information at each iteration about their progress. This information is returned in the output <code>info</code>.</p>
<p>This is a struct-array, that is, an array of structures. Read this <a href="https://blogs.mathworks.com/loren/2007/04/19/vectorizing-access-to-an-array-of-structures/">MathWorks blog post</a> for more on this data container in Matlab.</p>
<p>For example, to extract a vector containing the cost value at each iteration, call <code>[info.cost]</code> <em>with the brackets</em>. To plot the cost function value against computation time, call</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="va">plot</span>([<span class="va">info</span>.<span class="va">time</span>]<span class="op">,</span> [<span class="va">info</span>.<span class="va">cost</span>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The following table lists some indicators that might be present in the <code>info</code> output.</p>
<table class="table-striped table">
<caption>Table of typical information tracked at each iteration and returned in the <code>info</code> struct-array. Specific solvers typically include additional fields: check out their documentation.</caption>
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>Field name (<code>[info."..."]</code>)</th>
<th>Value type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iter</code></td>
<td>integer</td>
<td>Iteration number (0 corresponds to the initial guess).</td>
</tr>
<tr class="even">
<td><code>time</code></td>
<td>double</td>
<td>Elapsed execution time until completion of the iterate, in seconds.</td>
</tr>
<tr class="odd">
<td><code>cost</code></td>
<td>double</td>
<td>Attained value of the cost function.</td>
</tr>
<tr class="even">
<td><code>gradnorm</code></td>
<td>double</td>
<td>Attained value for the norm of the Riemannian gradient.</td>
</tr>
</tbody>
</table>
<p>A specific solver may not populate all of these fields and may provide additional fields, which would then be described in the solver’s documentation.</p>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Need to log problem-specific information at each iteration?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Include a <code>statsfun</code> in your <code>options</code> structure: <a href="./solvers.html#statsfun-option-for-recording-info-at-each-iteration">read more here</a>. Also read about <a href="./tools.html#counters-to-track-computations">Manopt counters</a> to keep track of things such as function calls, Hessian calls, matrix products, etc.</p>
</div>
</div>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
About execution time recorded in <code>info.time</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>The execution time is logged <em>without</em> incorporating time spent in <code>statsfun</code>, as it usually performs computations that are not needed to solve the optimization problem. If, however, you use information logged by <code>statsfun</code> for your <code>stopfun</code> criterion, and if this is important for your method (i.e., it is not just for convenience during prototyping), you should time the execution time of <code>statsfun</code> and add it to the <code>stats.time</code> field.</p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp("https:\/\/www\.manopt\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center"><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie preferences -- it helps us to know which pages are read the most</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>